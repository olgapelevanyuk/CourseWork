<app-common-header></app-common-header>
<div class="container">
  <div class="row">
    <h1 class="mt-5 mb-5">City List</h1>
  </div>
  <div class="row">
    <div class="col-md-6">
      <table class="table table-nonfluid">
        <thead>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col" *ngIf="isCountriesVisible">Country</th>
          <th scope="col"></th>
        </thead>
        <tbody>
          <tr *ngFor="let city of cities">
            <th scope="row">{{city.cityId}}</th>
            <th scope="row">{{city.cityName}}</th>
            <th scope="row" *ngIf="isCountriesVisible">{{city.countryName}}</th>
            <td>
              <span class="btn-toolbar row" role="toolbar" aria-label="City action buttons" *ngIf = "userService.isUserAdmin()"
                style="display: block; white-space:nowrap;">
                <div class="btn-group mr-2 offset-md-6" role="group" (click)="onDelete(city.cityId)" aria-label="Delete group">
                  <button type="button" class="btn btn-danger">Delete</button>
                </div>
                <div class="btn-group mr-2" role="group" aria-label="Edit group">
                  <button routerLink="/city/{{city.cityId}}" type="button" class="btn btn-primary">Edit</button>
                </div>
              </span>
            </td>
          </tr>
        </tbody>
      </table>
        <div class="btn-toolbar row"  role="toolbar" aria-label="Action buttons">
          <div class="col-md-4" *ngIf="userService.isUserAdmin()">
            <div class="btn-group" role="group" aria-label="Add group">
              <button routerLink="/city" type="button" class="btn btn-success">Add city</button>
            </div>
          </div>
          <div class="col-md-4">
            <div class="btn-group" role="group" aria-label="View group">
              <button type="button" class="btn btn-warning" (click)="getCountriesToCities()"
                *ngIf="!isCountriesVisible">View
                countries</button>
              <button type="button" class="btn btn-warning" (click)="hideCountries()" *ngIf="isCountriesVisible">Hide
                countries</button>
            </div>
        </div>
      </div>
    </div>
    <div class="col-md-6"></div>
  </div>
</div>
